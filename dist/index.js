!function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e){t.exports=require("vue-fragment")},function(t,e,o){"use strict";o.r(e);var r=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};r._withStripped=!0;var n=o(0);var i=function(t,e,o,r,n,i,s,l){var c,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=o,h._compiled=!0),r&&(h.functional=!0),i&&(h._scopeId="data-v-"+i),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=c):n&&(c=l?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(h.functional){h._injectStyles=c;var a=h.render;h.render=function(t,e){return c.call(e),a(t,e)}}else{var u=h.beforeCreate;h.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:h}}({components:{Fragment:n.Fragment},props:{bottomThreshold:Number,resetKey:[String,Number,Boolean,Object]},computed:{root(){const t=this.$slots.default;return t&&t[0].elm||document.documentElement},scrollableElement(){return this.root===document.documentElement?window:this.root}},watch:{resetKey(){this.reset()}},mounted(){this.init(),this.scrollableElement.addEventListener("scroll",this.handleScroll)},beforeDestroy(){this.scrollableElement.removeEventListener("scroll",this.handleScroll)},methods:{init(){const{root:t}=this;t&&(this.maxScrollTop=this.root.scrollTop,this.lastScrollHeight=this.root.scrollHeight,this.emitReachThresholdDisabled=!1,this.handleReachBottom())},reset(){this.root!==document.documentElement&&(this.root.scrollTop=0),this.init()},handleReachBottom(){if(!this.root)return;const{scrollTop:t,scrollHeight:e}=this.root;if(e!==this.lastScrollHeight&&(this.emitReachThresholdDisabled=!1,this.lastScrollHeight=e),t<=this.maxScrollTop)return;this.maxScrollTop=t;const o=(t=>{if(!t)return;const{scrollTop:e,offsetHeight:o,scrollHeight:r}=t;return r-o-e})(this.root);this.emitReachThresholdDisabled||o>this.bottomThreshold||(this.emitReachThresholdDisabled=!0,this.$emit("reachThreshold"))},handleScroll(){const{root:t}=this;if(!t)return;const{scrollTop:e,clientHeight:o,scrollHeight:r}=t;this.$emit("scroll",{scrollTop:e,clientHeight:o,scrollHeight:r,fraction:e/(r-o)}),0===e&&this.$emit("reachTop"),e+o>=r&&this.$emit("reachBottom"),this.handleReachBottom()}}},r,[],!1,null,null,"0975577e");i.options.__file="src/index.vue";e.default=i.exports}]);
//# sourceMappingURL=index.js.map